<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Connexion - CloudSafe</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="display:flex; align-items:center; justify-content:center; height:100vh;">
    <div class="card" style="max-width: 350px;">
        <h2 style="text-align:center;">Connexion</h2>
        <form id="loginForm">
            <div class="form-group">
                <label>Pseudo</label>
                <input type="text" id="user" placeholder="Ton pseudo" required>
            </div>
            <div class="form-group">
                <label>Mot de passe</label>
                <input type="password" id="pass" placeholder="••••••••" required>
            </div>
            <button type="submit" class="btn btn-primary">Se connecter</button>
            <p id="err" style="color:red; display:none; text-align:center; margin-top:10px;">Identifiants incorrects.</p>
        </form>
    </div>

    <script>
        // Initialisation du compte admin par défaut s'il n'existe pas encore
        if (!localStorage.getItem("adminPseudo")) {
            localStorage.setItem("adminPseudo", "admin");
            localStorage.setItem("adminPass", "admin123");
        }

        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const inputUser = document.getElementById('user').value;
            const inputPass = document.getElementById('pass').value;
            
            const storedUser = localStorage.getItem("adminPseudo");
            const storedPass = localStorage.getItem("adminPass");

            if(inputUser === storedUser && inputPass === storedPass) {
                localStorage.setItem("isLoggedIn", "true");
                window.location.href = "index.html";
            } else {
                document.getElementById('err').style.display = "block";
            }
        });
    </script>
</body>
</html>
